$(function(){
  new WOW().init(); 
});

function isTouchDevice(){
  return typeof window.ontouchstart !== 'undefined';
}
// alert("main3");
$( document ).ready(function() {


  
  $('li.nav-item a').addClass('nav-link');
   $('.growth-count .container p').addClass('fade-in-bottom');

   if(isTouchDevice()) {
    // 1st click, add "clicked" class, preventing the location change. 2nd click will go through.
    
    $('.nav-item a').on("click", function(e){
     if($(this).next('ul').hasClass( "sub-menu" )){
      $('.sub-menu').removeClass('open');
      $(this).next('ul').addClass('open');
  
      e.stopPropagation();
  
      e.preventDefault();
     }
      
  
    });


}

// smooth scrolling 
// Add smooth scrolling to all links
$('a[href*="#"]:not([href="#"])').click(function(e) {
  if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') || location.hostname == this.hostname) {
    e.preventDefault();
 
   var target = $(this.hash);
 
   headerHeight = 87;
   
   target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
   
   if (target.length) {
     $('html,body').stop().animate({
       scrollTop: target.offset().top - 87 //offsets for fixed header
     }, 800);
     
   }
 }
});

 
})

$(window).scroll(function () {
  if($(window).scrollTop() > 100) {
      if ($("#header").hasClass("dark")) {
         $('body').css('margin-top', '132px');
         
      }
      // alert("100");
    $("#header").addClass('sticky');
  } else {
    $("#header").removeClass('sticky');
    $('body').css('margin-top', '0');
  }
});

// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("enquire_finance");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  alert("clicked");
  modal.style.display = "none";

}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}



//Get the modal
var modal2 = document.getElementById("brochuremodal");

// Get the button that opens the modal
var btn2 = document.getElementById("brochurepop");

// Get the <span> element that closes the modal
var span2 = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn2.onclick = function() {
  modal2.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span2.onclick = function() {
  modal2.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal2.style.display = "none";
  }
}